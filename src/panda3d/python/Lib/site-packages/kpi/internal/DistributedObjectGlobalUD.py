from .DistributedObjectUD import DistributedObjectUD


class DistributedObjectGlobalUD(DistributedObjectUD):
    def announceGenerate(self):
        DistributedObjectUD.announceGenerate(self)
        self.air.registerForChannel(self.doId)

    def generateGlobalObject(self, zoneId=2):
        if not self.doId:
            raise Exception('doId not set for global object')
        self.air.doId2do[self.doId] = self
        self.generate()
        self.announceGenerate()

    def delete(self):
        self.air.unregisterForChannel(self.doId)
        DistributedObjectUD.delete(self)
